<!DOCTYPE html>
<html lang="el">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>Volleyball Dream Team Display (GitHub)</title>
Â  <style>
Â  Â  /* CSS from original file, adjusted for layout */
Â  Â  * {margin: 0; padding: 0; box-sizing: border-box;}
Â  Â  body {
Â  Â  Â  font-family: 'Arial', sans-serif;
Â  Â  Â  background: #000;
Â  Â  Â  overflow: hidden;
Â  Â  Â  height: 1080px;
Â  Â  Â  width: 100vw;
Â  Â  }

Â  Â  .display-container {
Â  Â  Â  position: relative;
Â  Â  Â  width: 1920px;
Â  Â  Â  height: 1080px;
Â  Â  Â  /* Use the background image */
Â  Â  Â  background-image: url('mvp_background.jpg');Â 
Â  Â  Â  background-size: 100% 100%;Â 
Â  Â  Â  background-position: center;
Â  Â  Â  display: flex;
Â  Â  Â  align-items: center;
Â  Â  Â  justify-content: center;
Â  Â  }

Â  Â  .content-wrapper {
Â  Â  Â  width: 85%;
Â  Â  Â  max-width: 1500px;
Â  Â  Â  position: relative;
Â  Â  Â  z-index: 5;
Â  Â  Â  /* Adjusted to center content on the background graphic */
Â  Â  Â  transform: translateY(100px);Â 
Â  Â  }

Â  Â  .players-grid {
Â  Â  Â  display: flex;
Â  Â  Â  flex-direction: column;
Â  Â  Â  gap: 120px; /* Increased gap to match result_mvp.jpg layout */
Â  Â  Â  align-items: center;Â 
Â  Â  }

Â  Â  .player-row {
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;Â 
Â  Â  Â  align-items: flex-start;
Â  Â  Â  gap: 150px; /* Adjusted gap to match result_mvp.jpg layout */
Â  Â  }

Â  Â  /* Row specific adjustments to match image alignment */
Â  Â  .player-row:nth-child(2) {
Â  Â  Â  Â  gap: 150px;Â 
Â  Â  }
Â  Â  .player-row:nth-child(3) {
Â  Â  Â  Â  gap: 0;Â 
Â  Â  Â  Â  margin-top: -30px;Â 
Â  Â  }


Â  Â  .player-card {
Â  Â  Â  text-align: center;
Â  Â  Â  opacity: 0;
Â  Â  Â  transform: translateY(60px) scale(0.9);
Â  Â  Â  width: 280px;Â 
Â  Â  }

Â  Â  /* Smooth staggered animation */
Â  Â  @keyframes fadeUp {
Â  Â  Â  0% {opacity: 0; transform: translateY(60px) scale(0.9);}
Â  Â  Â  60% {opacity: 1; transform: translateY(-10px) scale(1.02);}
Â  Â  Â  100% {opacity: 1; transform: translateY(0) scale(1);}
Â  Â  }

Â  Â  .player-card.animate {
Â  Â  Â  animation: fadeUp 0.8s ease-out forwards;
Â  Â  }

Â  Â  .player-photo-wrapper {
Â  Â  Â  position: relative;
Â  Â  Â  margin-bottom: 15px;
Â  Â  Â  display: inline-block;
Â  Â  }

Â  Â  .player-photo {
Â  Â  Â  width: 220px;
Â  Â  Â  height: 220px;
Â  Â  Â  border-radius: 20px;
Â  Â  Â  object-fit: cover;
Â  Â  Â  border: 6px solid white;
Â  Â  Â  box-shadow: 0 15px 40px rgba(0,0,0,0.6);
Â  Â  Â  box-sizing: border-box;Â 
Â  Â  }

Â  Â  .team-badge {
Â  Â  Â  position: absolute;
Â  Â  Â  top: -20px;
Â  Â  Â  right: -20px;
Â  Â  Â  width: 80px;
Â  Â  Â  height: 80px;
Â  Â  Â  background: none;Â 
Â  Â  Â  border-radius: 50%;
Â  Â  Â  box-shadow: none;
Â  Â  Â  padding: 5px;
Â  Â  }

Â  Â  .team-badge-img {
Â  Â  Â  Â  max-width: 100%;
Â  Â  Â  Â  max-height: 100%;
Â  Â  Â  Â  object-fit: contain;
Â  Â  Â  Â  background: white;Â 
Â  Â  Â  Â  border-radius: 50%;
Â  Â  Â  Â  padding: 5px;
Â  Â  Â  Â  box-shadow: 0 8px 20px rgba(0,0,0,0.4);
Â  Â  }

Â  Â  .player-position {
Â  Â  Â  background: linear-gradient(135deg, #2563eb 0%, #3b82f6 100%);
Â  Â  Â  color: white;
Â  Â  Â  padding: 12px 25px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  font-size: 16px;
Â  Â  Â  letter-spacing: 1px;
Â  Â  Â  border-radius: 8px 8px 0 0;
Â  Â  }

Â  Â  .player-name {
Â  Â  Â  background: white;
Â  Â  Â  color: #1e3a8a;
Â  Â  Â  padding: 12px 25px;
Â  Â  Â  font-weight: bold;
Â  Â  Â  font-size: 16px;
Â  Â  Â  border-radius: 0 0 8px 8px;
Â  Â  Â  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
Â  Â  }

Â  Â  .no-data {
Â  Â  Â  color: white;
Â  Â  Â  font-size: 28px;
Â  Â  Â  text-align: center;
Â  Â  Â  padding: 100px;
Â  Â  }

Â  Â  /* Control buttons */
Â  Â  .controls {
Â  Â  Â  position: fixed;
Â  Â  Â  top: 20px;
Â  Â  Â  right: 20px;
Â  Â  Â  z-index: 100;
Â  Â  Â  display: flex;
Â  Â  Â  gap: 10px;
Â  Â  }
Â  Â  .btn {
Â  Â  Â  background: rgba(37,99,235,0.9);
Â  Â  Â  color: white;
Â  Â  Â  border: none;
Â  Â  Â  padding: 12px 24px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  cursor: pointer;
Â  Â  Â  font-weight: bold;
Â  Â  Â  font-size: 14px;
Â  Â  Â  transition: all 0.3s;
Â  Â  }
Â  Â  .btn:hover {
Â  Â  Â  background: rgba(37,99,235,1);
Â  Â  Â  transform: translateY(-2px);
Â  Â  Â  box-shadow: 0 5px 15px rgba(37,99,235,0.4);
Â  Â  }
Â  </style>
</head>
<body>
Â  <div class="controls">
Â  Â  <button class="btn" onclick="reloadDisplay()">ğŸ”„ Î‘Î½Î±Î½Î­Ï‰ÏƒÎ·</button>
Â  Â  <button class="btn" onclick="window.close()">âŒ ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿</button>
Â  </div>

Â  <div class="display-container" id="displayContainer">
Â  Â  <div class="content-wrapper" id="contentWrapper">
Â  Â  Â  <div class="no-data" id="noData">Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï„Î± ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î± Ï„Î¿Ï… GitHub ÏƒÏ„Î¿ Control Panel...</div>
Â  Â  </div>
Â  </div>

Â  <script>
Â  Â  let players = [];
Â  Â Â 
Â  Â  // Configuration loaded from localStorage
Â  Â  let GITHUB_OWNER = 'volley;eaguecupgr';
Â  Â  let GITHUB_REPO = 'roster';
Â  Â  let GITHUB_FILE_PATH = 'best/best_team.json';
Â  Â  
    // New Team Configuration
    const TEAMS_CONFIG = [
        { name: "Î Î‘ÎŸÎš", key: "paok" },
        { name: "Î‘ÎŸ Î¦ÎŸÎ™ÎÎ™ÎšÎ‘Î£ Î£Î¥Î¡ÎŸÎ¥", key: "foinikas" },
        { name: "Î Î‘ÎÎ‘Î˜Î—ÎÎ‘ÎªÎšÎŸÎ£ AO", key: "panathinaikos" },
        { name: "Î‘ÎŸ Î¦Î›ÎŸÎ™Î£Î’ÎŸÎ£ MEMBERS PARON", key: "floisvos" },
        { name: "Î‘ÎŸÎÎ£ ÎœÎ™Î›Î©Î", key: "milon" },
        { name: "Î‘ÎŸ ÎšÎ‘Î›Î‘ÎœÎ‘Î¤Î‘ '80 AFFIDEA", key: "kalamata" },
        { name: "Î Î‘ÎÎ™Î©ÎÎ™ÎŸÎ£", key: "panionios" },
        { name: "ÎŸÎ›Î¥ÎœÎ Î™Î‘ÎšÎŸÎ£ Î£Î¦Î  OÎÎ•Î§", key: "olympiakos" },
        { name: "ÎŸÎ¦Î—", key: "ofi" },
        { name: "Î‘ÎŸÎ  ÎšÎ—Î¦Î™Î£Î™Î‘Î£", key: "kifisia" }
    ];
Â  Â Â 
Â  Â  function loadConfig() {
Â  Â  Â  Â  const config = localStorage.getItem('githubConfig');
Â  Â  Â  Â  if (config) {
Â  Â  Â  Â  Â  Â  const details = JSON.parse(config);
Â  Â  Â  Â  Â  Â  GITHUB_OWNER = details.owner;
Â  Â  Â  Â  Â  Â  GITHUB_REPO = details.repo;
Â  Â  Â  Â  Â  Â  GITHUB_FILE_PATH = details.path;
Â  Â  Â  Â  }
Â  Â  }


Â  Â  // Function to Load JSON from GitHub
Â  Â  async function loadPlayersFromGitHub() {
Â  Â  Â  Â  loadConfig();
Â  Â  Â  Â  const noDataElement = document.getElementById('noData');
Â  Â  Â  Â Â 
Â  Â  Â  Â  if (!GITHUB_OWNER || !GITHUB_REPO) {
Â  Â  Â  Â  Â  Â  noDataElement.textContent = 'Î Î±ÏÎ±ÎºÎ±Î»Ï ÎµÎ¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï„Î± ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î± Ï„Î¿Ï… GitHub ÏƒÏ„Î¿ Control Panel.';
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  noDataElement.textContent = 'Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Î±Ï€ÏŒ GitHub...';
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Construct the raw content URL
Â  Â  Â  Â  const rawUrl = `https://raw.githubusercontent.com/${GITHUB_OWNER}/${GITHUB_REPO}/main/${GITHUB_FILE_PATH}`;

Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  // Fetch the raw JSON data
Â  Â  Â  Â  Â  Â  const response = await fetch(rawUrl);

Â  Â  Â  Â  Â  Â  if (response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  players = await response.json();
Â  Â  Â  Â  Â  Â  Â  Â  if (players.length > 0) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  renderDisplay();
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  noDataElement.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  noDataElement.textContent = 'Î¤Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ JSON ÎµÎ¯Î½Î±Î¹ ÎºÎµÎ½ÏŒ.';
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } else if (response.status === 404) {
Â  Â  Â  Â  Â  Â  Â  Â  Â noDataElement.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â  Â noDataElement.textContent = `Î¤Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ ${GITHUB_FILE_PATH} Î´ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎµ ÏƒÏ„Î¿ GitHub.`;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  throw new Error(`Failed to fetch raw content. Status: ${response.status}`);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  console.error('Error loading data from GitHub:', e);
Â  Â  Â  Â  Â  Â  noDataElement.style.display = 'block';
Â  Â  Â  Â  Â  Â  noDataElement.textContent = 'Î£Ï†Î¬Î»Î¼Î± Ï†ÏŒÏÏ„Ï‰ÏƒÎ·Ï‚. Î•Î»Î­Î³Î¾Ï„Îµ Ï„Î·Î½ console.';
Â  Â  Â  Â  }
Â  Â  }

Â  Â  function renderDisplay() {
Â  Â  Â  Â  document.getElementById('noData').style.display = 'none';

Â  Â  Â  Â  // 1. Group players by position
Â  Â  Â  Â  const positions = {
Â  Â  Â  Â  Â  Â  'Î‘ÎšÎ¡Î‘Î™ÎŸÎ£': [],
Â  Â  Â  Â  Â  Â  'ÎšÎ•ÎÎ¤Î¡Î™ÎšÎŸÎ£': [],
Â  Â  Â  Â  Â  Â  'Î›Î™ÎœÎ Î•Î¡ÎŸ': [],
Â  Â  Â  Â  Â  Â  'Î”Î™Î‘Î“Î©ÎÎ™ÎŸÎ£': [],
Â  Â  Â  Â  Â  Â  'Î Î‘Î£Î‘Î”ÎŸÎ¡ÎŸÎ£': []
Â  Â  Â  Â  };

Â  Â  Â  Â  players.forEach(p => {Â 
Â  Â  Â  Â  Â  Â  if (positions[p.position]) {
Â  Â  Â  Â  Â  Â  Â  Â  positions[p.position].push(p);Â 
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });

Â  Â  Â  Â  // 2. Custom Layout Logic to match result_mvp.jpg (7-Player lineup)
Â  Â  Â  Â  let html = '<div class="players-grid">';

Â  Â  Â  Â  // Row 1 (Top Row: Î‘ÎšÎ¡Î‘Î™ÎŸÎ£, ÎšÎ•ÎÎ¤Î¡Î™ÎšÎŸÎ£, Î›Î™ÎœÎ Î•Î¡ÎŸ) - 3 Players
Â  Â  Â  Â  html += '<div class="player-row">';
Â  Â  Â  Â  if (positions['Î‘ÎšÎ¡Î‘Î™ÎŸÎ£'][0]) html += createPlayerCard(positions['Î‘ÎšÎ¡Î‘Î™ÎŸÎ£'][0]);
Â  Â  Â  Â  if (positions['ÎšÎ•ÎÎ¤Î¡Î™ÎšÎŸÎ£'][0]) html += createPlayerCard(positions['ÎšÎ•ÎÎ¤Î¡Î™ÎšÎŸÎ£'][0]);
Â  Â  Â  Â  if (positions['Î›Î™ÎœÎ Î•Î¡ÎŸ'][0]) html += createPlayerCard(positions['Î›Î™ÎœÎ Î•Î¡ÎŸ'][0]);
Â  Â  Â  Â  html += '</div>';

Â  Â  Â  Â  // Row 2 (Middle Row: Î”Î™Î‘Î“Î©ÎÎ™ÎŸÎ£, Î‘ÎšÎ¡Î‘Î™ÎŸÎ£, Î Î‘Î£Î‘Î”ÎŸÎ¡ÎŸÎ£) - 3 Players
Â  Â  Â  Â  html += '<div class="player-row">';
Â  Â  Â  Â  if (positions['Î”Î™Î‘Î“Î©ÎÎ™ÎŸÎ£'][0]) html += createPlayerCard(positions['Î”Î™Î‘Î“Î©ÎÎ™ÎŸÎ£'][0]);
Â  Â  Â  Â  if (positions['Î‘ÎšÎ¡Î‘Î™ÎŸÎ£'][1]) html += createPlayerCard(positions['Î‘ÎšÎ¡Î‘Î™ÎŸÎ£'][1]);Â 
Â  Â  Â  Â  if (positions['Î Î‘Î£Î‘Î”ÎŸÎ¡ÎŸÎ£'][0]) html += createPlayerCard(positions['Î Î‘Î£Î‘Î”ÎŸÎ¡ÎŸÎ£'][0]);
Â  Â  Â  Â  html += '</div>';

Â  Â  Â  Â  // Row 3 (Bottom Row: ÎšÎ•ÎÎ¤Î¡Î™ÎšÎŸÎ£) - 1 Player
Â  Â  Â  Â  html += '<div class="player-row">';
Â  Â  Â  Â  if (positions['ÎšÎ•ÎÎ¤Î¡Î™ÎšÎŸÎ£'][1]) html += createPlayerCard(positions['ÎšÎ•ÎÎ¤Î¡Î™ÎšÎŸÎ£'][1]);
Â  Â  Â  Â  html += '</div>';
Â  Â  Â  Â Â 
Â  Â  Â  Â  html += '</div>';
Â  Â  Â  Â  document.getElementById('contentWrapper').innerHTML = html;
Â  Â  Â  Â  animatePlayers();
Â  Â  }

Â  Â  function createPlayerCard(p) {
Â  Â  Â  // 1. Find the team key using the TEAMS_CONFIG
Â  Â  Â  const team = TEAMS_CONFIG.find(t => t.name.toUpperCase() === p.team.toUpperCase());
Â  Â  Â  // Fallback to a simple slug if not found, but prioritize the key
Â  Â  Â  const teamKey = team ? team.key : p.team.toLowerCase().replace(/[^a-z0-9]+/g, '-');
Â  Â  Â  
Â  Â  Â  // 2. Construct the logo URL from the key
Â  Â  Â  const teamLogoUrl = `https://raw.githubusercontent.com/${GITHUB_OWNER}/${GITHUB_REPO}/main/logos/${teamKey}.png`;
Â  Â  Â Â 
Â  Â  Â  return `
Â  Â  Â  Â  <div class="player-card">
Â  Â  Â  Â  Â  <div class="player-photo-wrapper">
Â  Â  Â  Â  Â  Â  <img src="${p.photo}" class="player-photo" alt="${p.name}" onerror="this.src='https://via.placeholder.com/220?text=NO+IMG'">
Â  Â  Â  Â  Â  Â  <div class="team-badge">
Â  Â  Â  Â  Â  Â  Â  Â  <img src="${teamLogoUrl}" class="team-badge-img" alt="${p.team}" onerror="this.src='https://via.placeholder.com/80/FFFFFF?text=${p.team.substring(0, 3)}'">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  <div class="player-position">${p.position}</div>
Â  Â  Â  Â  Â  <div class="player-name">${p.name}</div>
Â  Â  Â  Â  </div>
Â  Â  Â  `;
Â  Â  }

Â  Â  function animatePlayers() {
Â  Â  Â  const cards = document.querySelectorAll('.player-card');
Â  Â  Â  cards.forEach((card, index) => {
Â  Â  Â  Â  setTimeout(() => card.classList.add('animate'), index * 700);
Â  Â  Â  });
Â  Â  }

Â  Â  function reloadDisplay() {
Â  Â  Â  loadPlayersFromGitHub();
Â  Â  }

Â  Â  // Monitor local storage for update signal from control panel (simulated server call)
Â  Â  window.addEventListener('storage', e => {
Â  Â  Â  if (e.key === 'bestTeamUpdate') reloadDisplay();
Â  Â  });

Â  Â  // Initial load on page open
Â  Â  loadPlayersFromGitHub();
Â  </script>
</body>
</html>
